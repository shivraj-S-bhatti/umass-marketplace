# Production configuration
spring:
  # Database configuration
  datasource:
    url: ${PROD_DB_URL}
    username: ${PROD_DB_USER}
    password: ${PROD_DB_PASSWORD}
  
  # Email configuration
  mail:
    host: ${MAIL_HOST:smtp.gmail.com}
    port: ${MAIL_PORT:587}
    username: ${MAIL_USERNAME}  # e.g., noreply@marketplace.umass.edu
    password: ${MAIL_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true

# JWT Configuration
application:
  jwt:
    secret: ${JWT_SECRET}
    expiration: ${JWT_EXPIRATION:86400000}

# Server configuration (behind nginx: trust X-Forwarded-Proto so OAuth redirect_uri uses https)
server:
  port: ${PORT:8080}
  forward-headers-strategy: framework

# Production-specific settings
springdoc:
  swagger-ui:
    enabled: false  # Disable Swagger UI in production
  api-docs:
    enabled: false  # Disable API docs in production

# AWS S3 Configuration
aws:
  s3:
    enabled: ${AWS_S3_ENABLED:true}
    bucket-name: ${AWS_S3_BUCKET_NAME:umass-marketplace-images}
    region: ${AWS_REGION:us-east-1}
    access-key-id: ${AWS_ACCESS_KEY_ID}
    secret-access-key: ${AWS_SECRET_ACCESS_KEY}

# Image Compression Configuration
image:
  compression:
    max-width: ${IMAGE_MAX_WIDTH:1200}
    max-height: ${IMAGE_MAX_HEIGHT:1200}
    quality: ${IMAGE_QUALITY:0.85}
    max-size-kb: ${IMAGE_MAX_SIZE_KB:100}

# Listing Retention Configuration
listing:
  retentionDays: ${LISTING_RETENTION_DAYS:14}